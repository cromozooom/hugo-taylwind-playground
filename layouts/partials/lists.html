<body
  x-data="{ 
  debuging: false,
  overflowBody: true,
  bug: true,
  overlay: false,
  overlayHalph: false,
  overlayBlure: 'sm',
  
  show: false,
  overlay: false,
  toggle: false,
  version: 'option 2'
}"
  :class="overflowBody ? '' : 'overflow-hidden max-h-screen'"
  class="m-0 p-0"
>
  {{ partial "menu.html" . }}
  <div class="flex justify-between items-center p-2">
    <div>
      <h1 class="text-xl">Filtering Lists (<span x-text="version"></span>)</h1>
      <div x-show="debuging">
        <span class="pr-2" x-text="'show: ' + show"></span>
        <span class="px-2" x-text="'overlay: ' + overlay"></span>
        <span class="px-2" x-text="'toggle: ' + toggle"></span>
      </div>
    </div>
    <div>
      <select x-model="version">
        <option value="present">present</option>
        <option value="option 1">option 1</option>
        <option value="option 2">option 2</option>
      </select>
    </div>
  </div>
  <div class="py-4">
    <div class="flex" x-show="">
      <!-- Sidebar -->
      <div class="min-w-[20rem] border p-3" x-show="show">
        <div class="flex flex-col">
          <div class="flex justify-between items-center">
            <strong
              >Filter show
              <span x-text="show"></span>
            </strong>
            <div>
              <button
                @click="show = !show;"
                :class="show ? ' border-green-500' : 'border-green-500/0'"
                class="rounded-md bg-white px-2 py-2.5 shadow border border-solid border-1"
              >
                <div class="flex justify-end items-center gap-1">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-arrow-left-short"
                    viewBox="0 0 16 16"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"
                    />
                  </svg>
                </div>
              </button>
            </div>
          </div>

          <div class="bg-green-100/50 my-2 p-2">
            <p>easy to access & edit</p>
          </div>
          <div>
            <button class="rounded-md bg-white px-5 py-2.5 shadow">
              Apply Filter
            </button>
          </div>
        </div>
      </div>

      <!-- Main content -->
      <div class="border grow">
        <div class="p-3">
          <!-- VERSION Present -->
          <div
            class="flex justify-between items-end gap-2"
            x-show="version === 'present'"
          >
            <div>
              <label class="block"
                ><span class="text-gray-700">Search</span>
                <input type="text" class="mt-1 block w-full" placeholder=""
              /></label>
            </div>
            <div>
              <button
                @click="overlay = !overlay; toggle = false; show = false; overflowBody = false"
                :class="overlay ? ' border-green-500' : 'border-green-500/0'"
                class="flex items-center rounded-md bg-white px-5 py-2.5 shadow border border-solid border-1"
              >
                Overlay
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-funnel ml-2"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"
                  />
                </svg>
              </button>
            </div>
          </div>
          <!-- VERSION 1 -->
          <div
            class="flex justify-between items-end gap-2"
            x-show="version === 'option 1'"
          >
            <div>
              <label class="block"
                ><span class="text-gray-700">Search</span>
                <input type="text" class="mt-1 block w-full" placeholder=""
              /></label>
            </div>

            <button
              @click="toggle = !toggle; show = false"
              x-show="version === 'option 1' || version === 'option 2'"
              :class="toggle ? ' border-yellow-500' : 'border-yellow-500/0'"
              class="flex items-center rounded-md bg-white px-5 py-2.5 shadow border border-solid border-1"
            >
              Toggle Main
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-funnel ml-2"
                viewBox="0 0 16 16"
              >
                <path
                  d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"
                />
              </svg>
            </button>
          </div>
          <!-- VERSION 2 -->

          <div
            class="flex justify-between gap-2"
            x-show="version === 'option 2'"
          >
            <div>
              <label class="block"
                ><span class="text-gray-700">Search</span>
                <input type="text" class="mt-1 block w-full" placeholder=""
              /></label>
            </div>

            <div class="flex items-end">
              <button
                @click="toggle = !toggle; show = false"
                x-show="version === 'option 1' || version === 'option 2'"
                :class="toggle ? ' border-yellow-500' : 'border-yellow-500/0'"
                class="flex items-center rounded-l bg-white px-5 py-2.5 shadow border border-solid border-1"
              >
                Filter
              </button>
              <button
                x-show="!show"
                @click="show = !show; toggle = false;"
                class="flex items-center rounded-r bg-white px-5 py-2.5 shadow border border-solid border-1 border-green-500/0"
              >
                more
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-funnel ml-2"
                  viewBox="0 0 16 16"
                >
                  <path
                    d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z"
                  />
                </svg>
              </button>
            </div>
          </div>

          <div class="bg-slate-50 mt-2 p-2 flex flex-col" x-show="toggle">
            <div>
              <strong>Filter toggle</strong>
            </div>
            <span class="bg-yellow-100/50 my-2 p-2">
              forms must be nice - in line, only the important ones ;)
            </span>
            <div>
              <button
                @click="toggle = !toggle;"
                class="rounded-md bg-white px-5 py-2.5 shadow"
              >
                Apply
              </button>
            </div>
          </div>
          <ul class="mt-3 flex flex-wrap gap-2">
            {{ range .Site.Data.documents }}
            <li class="border p-2 min-w-[20rem] min-h-[15rem] rounded">
              {{ .filename }}
            </li>
            {{ end }}
          </ul>
        </div>
      </div>
    </div>
    <div
      :class="overlayHalph ? 'w-[50vw]' : 'w-[20vw]' "
      class="z-10 border absolute top-[0] left-[auto] bottom-[0] right-[0] bg-slate-50 h-full"
      x-show="overlay"
    >
      <div class="flex flex-col h-full">
        <section class="grow-0 p-2">
          <div class="flex justify-between items-center">
            <strong>Filter Overlay</strong>
            <button
              @click="overlay = false;"
              :class="
            overlay ? ' border-red-500' : 'border-red-500/0'"
              class="rounded-md bg-white px-2 py-2.5 shadow border border-solid border-1"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-x"
                viewBox="0 0 16 16"
              >
                <path
                  d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                />
              </svg>
            </button>
          </div>
        </section>
        <section class="grow h-full">
          <div class="bg-red-100/50 my-2 p-2 text-red-900 rounded">
            <p>This is what we are using at this moment</p>
            <p>more clicks & no visible results</p>
            <button
              class="rounded-md bg-white px-5 py-2.5 shadow border border-solid border-1"
              @click="overlayHalph = !overlayHalph"
            >
              expand
            </button>
            <button
              class="rounded-md bg-white px-5 py-2.5 shadow border border-solid border-1"
              x-show="overlayBlure != 'sm'"
              @click="overlayBlure = 'sm'"
            >
              + blure
            </button>
            <button
              class="rounded-md bg-white px-5 py-2.5 shadow border border-solid border-1"
              x-show="overlayBlure != ''"
              @click="overlayBlure = ''"
            >
              - blure
            </button>
          </div>
        </section>
        <section class="bg-slate-200 p-2 flex justify-between">
          <div>
            <button
              @click="overlay = false;"
              :class="
              overlay ? ' border-red-500' : 'border-red-500/0'"
              class="rounded-md bg-white px-5 py-2.5 shadow border border-solid border-1"
            >
              Cancel
            </button>
          </div>
          <div>
            <button
              @click="overlay = !overlay;"
              :class="
              overlay ? ' border-red-500' : 'border-red-500/0'"
              class="rounded-md bg-white px-5 py-2.5 shadow border border-solid border-1"
            >
              Apply
            </button>
          </div>
        </section>
      </div>
    </div>
    <div
      x-show="overlay"
      @click="overlay = !overlay;"
      :class="overlayBlure === 'sm' ? 'backdrop-blur-sm' : 'backdrop-blur-0'"
      class="z-0 absolute inset-0 bg-slate-800/20"
    ></div>
  </div>
</body>
